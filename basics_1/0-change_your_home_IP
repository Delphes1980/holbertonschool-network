#!/usr/bin/env bash
# Configures an Ubuntu server with these requirements: localhost resolves to 127.0.0.2, facebook.com resolves to 8.8.8.8

# Check and replace localhost entry
if grep -q "localhost" /etc/hosts; then
    sudo sed -i 's/.*localhost.*/127.0.0.2 localhost/' /etc/hosts
else
    echo "127.0.0.2 localhost" | sudo tee -a /etc/hosts > /dev/null
fi

# Check and replace facebook.com entry
if grep -q "facebook.com" /etc/hosts; then
    sudo sed -i 's/.*facebook.com.*/8.8.8.8 facebook.com/' /etc/hosts
else
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
fi
